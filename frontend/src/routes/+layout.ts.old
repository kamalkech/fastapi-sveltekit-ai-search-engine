import { loadTranslations } from '$lib/translations';
import { locale } from '$lib/translations';

export const load = async (event) => {
	console.log('event', event);
	const initialLocale = 'ar'; // get from cookie / url / fetch from server...
	// const lng = locale.subscribe(async (d) => {
	// 	if (d) {
	// 		console.log(111);
	// 		await loadTranslations(d); // keep this just before the `return`
	// 	}
	// 	console.log(1);
	// 	return d;
	// });

	const lng = locale.subscribe(async (d) => {
		console.log('d', d);
		return d;
	});
	console.log('lng', lng);
	console.log(1);
	await loadTranslations(lng);
	console.log(2);
	return {};
};
